@using Microsoft.AspNetCore.Components.Web
@using GamesApp.Models
@using GamesApp.Services
@inject JsonFileCardService CardService

<div class="container-fluid wrapper deck mb-5">
    @foreach (var card in CardService.GetCards())
    {
        <div class="memory-card">
            <div class="faces"
                 @onclick="(e => SelectCard(card.Value))"
                 data-toggle="modal"
                 data-target="#scoreModal"
                 >
                <div class="face front"><img src="@card.FrontImage" /></div>
                <div class="face back"></div>
            </div>
        </div>
    }
</div>

@code {
    Card selectCard; //the card clicked on
    string selectCardValue; //the value of the card clicked on

    void SelectCard(string cardValue)
    {
        selectCardValue = cardValue;
        selectCard = CardService.GetCards().First(x => x.Value == cardValue);
    }
}
